<div class="table-responsive">
  <table class="table align-middle">
    <thead class="table-dark">
      <tr>
        <th>Seq</th>
        <th>Ordem</th>
        <th>Material</th>
        <th>PN</th>
        <th class="text-end">Qtd</th>
        <th>Data planejada</th>
        <th class="text-end">Horas</th>
        <th>Prioridade</th>
        <th class="text-end">Aging</th>
        <th>Status</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let o of paged">
        <td>{{o.seq}}</td>
        <td>{{o.ordem}}</td>
        <td>{{o.material}}</td>
        <td>{{o.pn}}</td>
        <td class="text-end">{{o.qtd}}</td>
        <td>{{o.dataPlanejada}}</td>
        <td class="text-end">{{o.horas | number:'1.3-3'}}</td>

        <!-- PRIORIDADE como TAG -->
        <td>
          <ng-container *ngIf="priorityBadge(o.prioridade) as tag">
            <span *ngIf="tag.text"
                  class="badge rounded-pill px-3 py-2 fw-semibold"
                  [ngClass]="tag.classes">
              {{ tag.text }}
            </span>
          </ng-container>
        </td>

        <td class="text-end">{{o.aging}}</td>
        <td [class.text-success]="o.status==='Done'"
            [class.text-danger]="o.status==='Pending'">
          {{o.status}}
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Barra de paginação -->
<div class="d-flex flex-wrap gap-3 justify-content-between align-items-center">
  <div class="small text-muted">
    Mostrando
    <strong>{{ (page - 1) * pageSize + 1 }}</strong>–
    <strong>{{ Math.min(page * pageSize, total) }}</strong>
    de <strong>{{ total }}</strong> registros
  </div>

  <div class="d-flex align-items-center gap-3">
    <div class="d-flex align-items-center gap-2">
      <span class="small text-muted">Itens por página</span>
        <select #sel class="form-select form-select-sm" style="width:auto"
                [value]="pageSize"
                (change)="changePageSize(sel.value)">
          <option *ngFor="let s of pageSizes" [value]="s">{{ s }}</option>
        </select>
    </div>

    <nav aria-label="Pagination">
      <ul class="pagination pagination-sm mb-0">
        <li class="page-item" [class.disabled]="page === 1">
          <button class="page-link" (click)="prev()" aria-label="Anterior">&laquo;</button>
        </li>

        <li class="page-item" *ngFor="let p of pages" [class.active]="p === page">
          <button class="page-link" (click)="goTo(p)">{{ p }}</button>
        </li>

        <li class="page-item" [class.disabled]="page === totalPages">
          <button class="page-link" (click)="next()" aria-label="Próxima">&raquo;</button>
        </li>
      </ul>
    </nav>
  </div>
</div>